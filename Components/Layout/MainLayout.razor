<!-- Components/Layout/MainLayout.razor -->
@inherits LayoutComponentBase
@inject NavigationManager Navigation
@inject GameState GameState

<div class="app-container">
    <nav class="navbar">
        <div class="navbar-brand">
            <h1>상점주인 시뮬레이터</h1>
        </div>
    </nav>

    <div class="main-content">
        <aside class="sidebar">
            <Navigation />
        </aside>

        <main class="content">
            <div class="body">
                @Body
            </div>
        </main>

        <aside class="right-panel">
            <div class="player-info">
                <div class="info-card">
                    <h3>골드</h3>
                    <p class="gold-amount">@GameState.Player?.Gold.ToString("N0")</p>
                </div>
                <div class="info-card">
                    <h3>용병</h3>
                    <p class="merc-count">@GameState.Mercenaries?.Count</p>
                </div>
            </div>
        </aside>
    </div>

    <footer class="footer">
        <p>&copy; 2025 상점주인 시뮬레이터. All rights reserved.</p>
    </footer>
</div>

@code {
    protected override async Task OnInitializedAsync()
    {
        // Load game state on layout initialization
        if (GameState.Player == null)
        {
            await GameState.LoadPlayerAsync();
        }
    }
}